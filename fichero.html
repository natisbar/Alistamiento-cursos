<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="Style/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <title>Document</title>
</head>
<body>
  <form class="form-inline">

    <div class="form-group">
      <label for="files">Upload a CSV formatted file:</label>
      <input type="file" id="files" class="form-control" accept=".csv" required />
    </div>
  
    <div class="form-group">
      <button type="submit" id="submit-file" class="btn btn-primary">Upload File</button>
    </div>
    
  </form>
  <script>
//     $('#submit-file').on("click",function(e){
// 	e.preventDefault();
// 	$('#files').parse({
// 		config: {
// 			delimiter: "auto",
// 			complete: displayHTMLTable,
// 		},
// 		before: function(file, inputElem)
// 		{
// 			//console.log("Parsing file...", file);
// 		},
// 		error: function(err, file)
// 		{
// 			//console.log("ERROR:", err, file);
// 		},
// 		complete: function()
// 		{
// 			//console.log("Done with all files");
// 		}
// 	});
// });

// function displayHTMLTable(results) {
//     var table = "<table class='table'>";
//     var data = results.data;

//     for (i = 0; i < data.length; i++) {
//         table += "<tr>";
//         var row = data[i];
//         var cells = row.join(",").split(",");

//         for (j = 0; j < cells.length; j++) {
//             table += "< td > ";
//             table += cells[j];
//             table += "</th>";
//         }
//         table += "</tr>";
//     }
//     table += "</table>";

//     $("#parsed_csv_list").html(table);
// }
    var hola="hola mundo";
    // alert(hola);
    $.ajax({
      url: 'prueba.csv',
      dataType: 'text',
    }).done(successFunction);
    
//     // alert(data);
//     function successFunction(data) {
//       var allRows = data.split(/\r?\n|\r/);
//       alert(allRows.length);
//     }
  function successFunction(data) {
      var allRows = data.split(/\r?\n|\r/);
      var table = '<table>';
      for (var singleRow = 0; singleRow < allRows.length; singleRow++) {
        if (singleRow === 0) {
          table += '<thead>';
          table += '<tr>';
        } else {
          table += '<tr>';
        }
        var rowCells = allRows[singleRow].split(',');
        for (var rowCell = 0; rowCell < rowCells.length; rowCell++) {
          if (singleRow === 0) {
            table += '<th>';
            table += rowCells[rowCell];
            table += '</th>';
          } else {
            table += '<td>';
            table += rowCells[rowCell];
            table += '</td>';
          }
        }
        if (singleRow === 0) {
          table += '</tr>';
          table += '</thead>';
          table += '<tbody>';
        } else {
          table += '</tr>';
        }
      } 
      table += '</tbody>';
      table += '</table>';
      $('body').append(table);
    }
</script>
</body>
</html>

